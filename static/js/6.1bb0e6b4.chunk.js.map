{"version":3,"sources":["components/theme-header-normal/style.js","components/theme-header-normal/index.jsx","components/pagination/style.js","components/pagination/index.jsx","components/album-cover/style.js","components/album-cover/index.jsx","pages/discover/c-pages/album/style.js","pages/discover/c-pages/album/store/actionCreators.js","services/album.js","pages/discover/c-pages/album/c-cpns/hot-album/style.js","pages/discover/c-pages/album/c-cpns/hot-album/index.jsx","pages/discover/c-pages/album/c-cpns/top-album/style.js","pages/discover/c-pages/album/c-cpns/top-album/index.jsx","pages/discover/c-pages/album/index.jsx"],"names":["ThemeHeaderNormalWrapper","styled","div","memo","props","title","rightSlot","className","PaginationWrapper","total","currentPage","pageSize","onPageChange","size","defaultCurrent","showSizeChanger","onChange","current","itemRender","type","originalElement","AlbumWrapper","width","bgp","info","src","getSizeImage","picUrl","alt","href","name","artist","getHotAlbumsAction","dispatch","request","url","then","res","propTypes","hotAlbums","albums","changeHotAlbumsAction","getTopAlbumsAction","page","limit","offset","params","topAlbums","changeTopAlbumsAction","HotAlbumWrapper","useDispatch","useSelector","state","getIn","shallowEqual","useEffect","slice","map","item","id","TopAlbumWrapper","useState","setCurrentPage","topTotal"],"mappings":"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","file":"static/js/6.1bb0e6b4.chunk.js","sourcesContent":["import styled from 'styled-components'\r\n\r\nexport const ThemeHeaderNormalWrapper = styled.div`\r\n  display: flex;\r\n  border-bottom: 2px solid #c20c20;\r\n  padding-bottom: 5px;\r\n  font-family: \"Microsoft Yahei\", Arial, Helvetica, sans-serif;\r\n  font-size: 24px;\r\n\r\n`","import React, { memo } from 'react'\r\n\r\nimport {ThemeHeaderNormalWrapper} from './style'\r\n\r\nexport default memo(function ZYThemeHeaderNormal(props) {\r\n  const {title,rightSlot} = props\r\n  return (\r\n    <ThemeHeaderNormalWrapper>\r\n      <div className=\"title\">{title}</div>\r\n      <div className=\"right\">\r\n        {rightSlot}\r\n      </div>\r\n    </ThemeHeaderNormalWrapper>\r\n  )\r\n})\r\n","import styled from 'styled-components'\r\n\r\nexport const PaginationWrapper = styled.div`\r\n  .pagination{\r\n    margin:30px 0;\r\n    text-align: center;\r\n    .control {\r\n      width: 69px;\r\n      height: 24px;\r\n      line-height: 22px;\r\n      text-align: center;\r\n      border: 1px solid #ccc;\r\n      border-radius: 2px;\r\n      margin: 0 5px;\r\n      color: #333;\r\n\r\n      &:disabled {\r\n        color: #999;\r\n      }\r\n    }\r\n    .ant-pagination-item{\r\n      border:1px solid #ccc !important;\r\n      margin:0 5px;\r\n      border-radius: 3px;\r\n      a{\r\n        font-size: 12px;\r\n        &:hover{\r\n          color: #c20c0c;\r\n        }\r\n      }\r\n      &.ant-pagination-item-active{\r\n        background-color: #c20c0c;\r\n        border-color: #A2161B;\r\n        a {\r\n          color: #fff;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n`","import React, { memo } from 'react'\r\n\r\nimport { Pagination } from 'antd'\r\nimport { PaginationWrapper } from './style'\r\n\r\nexport default memo(function ZYPagination(props) {\r\n  const { total, currentPage, pageSize, onPageChange } = props\r\n  function itemRender(current, type, originalElement) {\r\n    if (type === 'prev') {\r\n      return <button className=\"control prev\"> &lt; 上一页</button>;\r\n    }\r\n    if (type === 'next') {\r\n      return <button className=\"control next\">上一页 &gt;</button>;\r\n    }\r\n    return originalElement;\r\n  }\r\n  return (\r\n    <PaginationWrapper>\r\n      <Pagination total={total}\r\n        size=\"small\"\r\n        className=\"pagination\"\r\n        defaultCurrent={1}\r\n        pageSize={pageSize}\r\n        showSizeChanger={false}\r\n        onChange={onPageChange}\r\n        current={currentPage}\r\n        itemRender={itemRender} />\r\n    </PaginationWrapper>\r\n  )\r\n})\r\n","import styled from 'styled-components';\r\n\r\nexport const AlbumWrapper = styled.div`\r\n  /* width:${props => props.width + \"px\"} */\r\n  .album-image {\r\n    position: relative;\r\n    width: ${props => props.width + \"px\"};\r\n    height: ${props => props.size + \"px\"};\r\n    overflow: hidden;\r\n    margin-top: 15px;\r\n\r\n    img {\r\n      width: ${props => props.size + \"px\"};\r\n      height: ${props => props.size + \"px\"};\r\n    }\r\n\r\n    .cover {\r\n      position: absolute;\r\n      left: 0;\r\n      right: 0;\r\n      top: 0;\r\n      bottom: 0;\r\n      background-position: 0 ${props => props.bgp};\r\n      text-indent: -9999px;\r\n    }\r\n  }\r\n\r\n  .album-info {\r\n    font-size: 12px;\r\n    width: ${props => props.size + \"px\"};\r\n    .name {\r\n      color: #000;\r\n      white-space: nowrap;\r\n      text-overflow: ellipsis;\r\n      overflow: hidden;\r\n    }\r\n\r\n    .artist {\r\n      color: #666;\r\n    }\r\n  }\r\n`","import React, { memo } from 'react'\r\n\r\nimport {\r\n  AlbumWrapper\r\n} from './style'\r\n\r\nimport { getSizeImage } from '@/utils/data-format'\r\n\r\nexport default memo(function ZYAlbumCover(props) {\r\n  const { info, width = 153, size = 130, bgp = \"-845px\" } = props\r\n  return (\r\n    <AlbumWrapper size={size} width={width} bgp={bgp}>\r\n      <div className=\"album-image\">\r\n        <img src={getSizeImage(info.picUrl, size)} alt=\"\" />\r\n        <a href=\"/todo\" className=\"cover image_cover\" >{info.name}</a>\r\n      </div>\r\n      <div className=\"album-info\">\r\n        <div className=\"album-info\">\r\n          <div className=\"name\">{info.name}</div>\r\n          <div className=\"artist text-nowrap\">{info.artist.name}</div>\r\n        </div>\r\n      </div>\r\n    </AlbumWrapper>\r\n  )\r\n})\r\n","import styled from 'styled-components'\r\n\r\n\r\nexport const AlbumWrapper = styled.div`\r\n  padding: 40px;\r\n  background: #fff;\r\n  border: 1px solid #d3d3d3;\r\n  border: 0 1px;\r\n\r\n\r\n`","import * as propTypes from './constants'\r\nimport {\r\n  getHotAlbums,\r\n  getTopAlbums\r\n} from '@/services/album'\r\n\r\n\r\nconst changeHotAlbumsAction = res => ({ type: propTypes.CHANGE_HOT_ALBUMS, hotAlbums: res.albums })\r\n\r\nconst changeTopAlbumsAction = res => ({ type: propTypes.CHANGE_TOP_ALBUMS, topAlbums: res.albums })\r\n\r\nconst changeTopTotalAction = total => ({ type: propTypes.CHANGE_TOP_TOTAL, total })\r\n\r\nexport const getHotAlbumsAction = () => {\r\n  return dispatch => {\r\n    getHotAlbums().then(res => {\r\n      dispatch(changeHotAlbumsAction(res))\r\n    })\r\n  }\r\n}\r\n\r\nexport const getTopAlbumsAction = (page) => {\r\n  return dispatch => {\r\n    getTopAlbums(30, (page - 1) * 30).then(res => {\r\n      dispatch(changeTopAlbumsAction(res))\r\n      dispatch(changeTopTotalAction(res.total))\r\n    })\r\n  }\r\n}","import request from './request'\r\n\r\n\r\nexport function getHotAlbums() {\r\n  return request({\r\n    url: \"/album/newest\"\r\n  })\r\n}\r\n\r\nexport function getTopAlbums(limit, offset) {\r\n  return request({\r\n    url: \"/top/album\",\r\n    params:{\r\n      limit,\r\n      offset\r\n    }\r\n  })\r\n}","import styled from 'styled-components'\r\n\r\n\r\nexport const HotAlbumWrapper = styled.div`\r\n  .album-list{\r\n    display: flex;\r\n    justify-content: space-between;\r\n    flex-wrap: wrap;\r\n  }\r\n`","import React, { memo, useEffect } from 'react'\r\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux'\r\nimport { getHotAlbumsAction } from '../../store/actionCreators'\r\n\r\nimport { HotAlbumWrapper } from './style'\r\n\r\nimport ZYThemeHeaderNormal from '@/components/theme-header-normal'\r\nimport ZYAlbumCover from '@/components/album-cover'\r\n\r\n\r\nexport default memo(function ZYHotAlbum() {\r\n  const dispatch = useDispatch()\r\n  const { hotAlbums } = useSelector(state => ({\r\n    hotAlbums: state.getIn([\"album\", \"hotAlbums\"])\r\n  }), shallowEqual)\r\n  useEffect(() => {\r\n    dispatch(getHotAlbumsAction())\r\n  }, [dispatch])\r\n  return (\r\n    <HotAlbumWrapper>\r\n      <ZYThemeHeaderNormal title=\"热门新碟\" />\r\n      <div className=\"album-list\">\r\n        {\r\n          hotAlbums.slice(0, 10).map(item => {\r\n            return <ZYAlbumCover size={130}\r\n                                 width={153}\r\n                                 bgp={\"-845px\"}\r\n                                 key={item.id}\r\n                                 info={item} />\r\n          })\r\n        }\r\n      </div>\r\n    </HotAlbumWrapper>\r\n  )\r\n})\r\n","import styled from 'styled-components'\r\n\r\n\r\nexport const TopAlbumWrapper = styled.div`\r\n  margin-top: 30px;\r\n  .album-list{\r\n    display: flex;\r\n    justify-content: space-between;\r\n    flex-wrap: wrap;\r\n  }\r\n\r\n`","import React, { memo, useEffect, useState } from 'react'\r\n\r\nimport ZYThemeHeaderNormal from '@/components/theme-header-normal'\r\nimport { TopAlbumWrapper } from './style'\r\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux'\r\nimport { getTopAlbumsAction } from '../../store/actionCreators'\r\n\r\nimport ZYAlbumCover from '@/components/album-cover'\r\nimport ZYPagination from '@/components/pagination'\r\n\r\nexport default memo(function ZYTopAlbum() {\r\n  const [currentPage, setCurrentPage] = useState(1)\r\n  const dispatch = useDispatch()\r\n  const { topAlbums, topTotal } = useSelector(state => ({\r\n    topAlbums: state.getIn([\"album\", \"topAlbums\"]),\r\n    topTotal: state.getIn([\"album\", \"topTotal\"])\r\n  }), shallowEqual)\r\n  useEffect(() => {\r\n    dispatch(getTopAlbumsAction(1))\r\n  }, [dispatch])\r\n  const onPageChange = (page) => {\r\n    setCurrentPage(page)\r\n    dispatch(getTopAlbumsAction(page))\r\n  }\r\n  return (\r\n    <TopAlbumWrapper>\r\n      <ZYThemeHeaderNormal title=\"全部新碟\" />\r\n      <div className=\"album-list\">\r\n        {\r\n          topAlbums.map(item => {\r\n            return <ZYAlbumCover size={130}\r\n              width={153}\r\n              bgp={\"-845px\"}\r\n              key={item.id}\r\n              info={item} />\r\n          })\r\n        }\r\n      </div>\r\n      <ZYPagination total={topTotal}\r\n        currentPage={currentPage}\r\n        onPageChange={onPageChange}\r\n        pageSize={30} />\r\n    </TopAlbumWrapper>\r\n  )\r\n})\r\n","import React, { memo } from 'react'\r\n\r\nimport {AlbumWrapper} from './style'\r\n\r\nimport ZYHotAlbum from './c-cpns/hot-album'\r\nimport ZYTopAlbum from './c-cpns/top-album'\r\n\r\nexport default memo(function ZYAlbum() {\r\n  return (\r\n    <AlbumWrapper className=\"wrap-v2\">\r\n      <ZYHotAlbum />\r\n      <ZYTopAlbum />\r\n    </AlbumWrapper>\r\n  )\r\n})\r\n"],"sourceRoot":""}