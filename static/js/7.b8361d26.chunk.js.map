{"version":3,"sources":["components/pagination/style.js","components/pagination/index.jsx","utils/handle-data.js","components/songs-cover/style.js","components/songs-cover/index.jsx","pages/discover/c-pages/songs/style.js","pages/discover/c-pages/songs/c-cpns/songs-category/style.js","pages/discover/c-pages/songs/store/actionCreators.js","services/songs.js","pages/discover/c-pages/songs/c-cpns/songs-category/index.jsx","pages/discover/c-pages/songs/c-cpns/songs-header/style.js","pages/discover/c-pages/songs/c-cpns/songs-header/index.jsx","pages/discover/c-pages/songs/c-cpns/songs-list/style.js","pages/discover/c-pages/songs/c-cpns/songs-list/index.jsx","pages/discover/c-pages/songs/index.jsx"],"names":["PaginationWrapper","styled","div","memo","props","total","currentPage","pageSize","onPageChange","size","className","defaultCurrent","showSizeChanger","onChange","current","itemRender","type","originalElement","handleSongsCategory","data","category","categories","categoryData","Object","entries","map","name","subs","sub","item","push","singerAlphas","alphabets","start","charCodeAt","last","i","String","fromCharCode","generateSingerAlpha","SongsCoverWrapper","right","info","src","getSizeImage","picUrl","coverImgUrl","alt","getCount","playCount","copywriter","creator","nickname","SongsWrapper","CategoryWrapper","getSongList","page","dispatch","getState","cat","offset","limit","request","url","params","getSongCategoryList","getIn","PER_PAGE_NUMBER","then","res","actionTypes","categorySongs","changeSongListAction","getCategory","console","log","changeCategoryAction","useSelector","state","shallowEqual","useDispatch","selectCategory","currentCategory","onClick","e","index","sItem","HeaderWrapper","HeaderLeft","HeaderRight","useState","showCategory","setShowCategory","_","SongsListWrapper","setCurrentPage","songList","playlists","id","window","scrollTo","useEffect"],"mappings":"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","file":"static/js/7.b8361d26.chunk.js","sourcesContent":["import styled from 'styled-components'\r\n\r\nexport const PaginationWrapper = styled.div`\r\n  .pagination{\r\n    margin:30px 0;\r\n    text-align: center;\r\n    .control {\r\n      width: 69px;\r\n      height: 24px;\r\n      line-height: 22px;\r\n      text-align: center;\r\n      border: 1px solid #ccc;\r\n      border-radius: 2px;\r\n      margin: 0 5px;\r\n      color: #333;\r\n\r\n      &:disabled {\r\n        color: #999;\r\n      }\r\n    }\r\n    .ant-pagination-item{\r\n      border:1px solid #ccc !important;\r\n      margin:0 5px;\r\n      border-radius: 3px;\r\n      a{\r\n        font-size: 12px;\r\n        &:hover{\r\n          color: #c20c0c;\r\n        }\r\n      }\r\n      &.ant-pagination-item-active{\r\n        background-color: #c20c0c;\r\n        border-color: #A2161B;\r\n        a {\r\n          color: #fff;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n`","import React, { memo } from 'react'\r\n\r\nimport { Pagination } from 'antd'\r\nimport { PaginationWrapper } from './style'\r\n\r\nexport default memo(function ZYPagination(props) {\r\n  const { total, currentPage, pageSize, onPageChange } = props\r\n  function itemRender(current, type, originalElement) {\r\n    if (type === 'prev') {\r\n      return <button className=\"control prev\"> &lt; 上一页</button>;\r\n    }\r\n    if (type === 'next') {\r\n      return <button className=\"control next\">上一页 &gt;</button>;\r\n    }\r\n    return originalElement;\r\n  }\r\n  return (\r\n    <PaginationWrapper>\r\n      <Pagination total={total}\r\n        size=\"small\"\r\n        className=\"pagination\"\r\n        defaultCurrent={1}\r\n        pageSize={pageSize}\r\n        showSizeChanger={false}\r\n        onChange={onPageChange}\r\n        current={currentPage}\r\n        itemRender={itemRender} />\r\n    </PaginationWrapper>\r\n  )\r\n})\r\n","export function handleSongsCategory(data) {\n  // 1.获取所有的类别\n  const category = data.categories;\n\n  // 2.创建类别数据结构\n  const categoryData = Object.entries(category).map(([key, value]) => {\n    return {\n      name: value,\n      subs: []\n    }\n  })\n\n  // 3.将subs添加到对应的类别中\n  for (let item of data.sub) {\n    categoryData[item.category].subs.push(item);\n  }\n\n  return categoryData;\n}\n\n// 获取歌手字母类别\nexport function generateSingerAlpha() {\n  var alphabets = [\"-1\"];\n  var start = 'A'.charCodeAt(0);\n  var last  = 'Z'.charCodeAt(0);\n  for (var i = start; i <= last; ++i) {\n    alphabets.push(String.fromCharCode(i));\n  }\n\n  alphabets.push(\"0\");\n\n  return alphabets;\n}\n\nexport const singerAlphas = generateSingerAlpha();\n","import styled from \"styled-components\";\r\n\r\nexport const SongsCoverWrapper = styled.div`\r\n  width: 140px;\r\n  margin: 20px ${props => (props.right || 0)} 20px 0;\r\n\r\n  .cover-top {\r\n    position: relative;\r\n\r\n    &>img {\r\n      width: 140px;\r\n      height: 140px;\r\n    }\r\n    \r\n    .cover {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      width: 100%;\r\n      height: 100%;\r\n      background-position: 0 0;\r\n\r\n      .info {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        padding: 0 10px;\r\n        position: absolute;\r\n        bottom: 0;\r\n        left: 0;\r\n        right: 0;\r\n        background-position: 0 -537px;\r\n        color: #ccc;\r\n        height: 27px;\r\n\r\n        .erji {\r\n          margin-right: 5px;\r\n          display: inline-block;\r\n          width: 14px;\r\n          height: 11px;\r\n          background-position: 0 -24px;\r\n        }\r\n\r\n        .play {\r\n          display: inline-block;\r\n          width: 16px;\r\n          height: 17px;\r\n          background-position: 0 0;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .cover-bottom {\r\n    font-size: 14px;\r\n    color: #000;\r\n    margin-top: 5px;\r\n  }\r\n\r\n  .cover-source {\r\n    color: #666;\r\n  }\r\n`","import React, { memo } from 'react'\r\n\r\nimport { SongsCoverWrapper } from './style'\r\n\r\nimport {\r\n  getCount,\r\n  getSizeImage\r\n} from '@/utils/data-format'\r\n\r\nexport default memo(function ZYSongCover(props) {\r\n  const { info, right } = props\r\n  return (\r\n    <SongsCoverWrapper right={right}>\r\n      <div className=\"cover-top\">\r\n        <img src={getSizeImage(info.picUrl || info.coverImgUrl, 140)} alt=\"\" />\r\n        <div className=\"cover sprite_covor\">\r\n          <div className=\"info sprite_covor\">\r\n            <span>\r\n              <i className=\"sprite_icon erji\"></i>\r\n              {getCount(info.playCount)}\r\n            </span>\r\n            <i className=\"sprite_icon play\"></i>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"cover-bottom text-nowrap\">\r\n        {info.name}\r\n      </div>\r\n      <div className=\"cover-source text-nowrap\">by {info.copywriter || (info.creator && info.creator.nickname)}</div>\r\n    </SongsCoverWrapper>\r\n  )\r\n})\r\n","import styled from 'styled-components'\r\n\r\n\r\nexport const SongsWrapper = styled.div`\r\n  padding: 40px;\r\n  border: 1px solid #d3d3d3;\r\n  border-width: 0 1;\r\n  background: #fff;\r\n\r\n`","import styled from \"styled-components\";\r\n\r\nexport const CategoryWrapper = styled.div`\r\n  position: absolute;\r\n  z-index: 99;\r\n  top: 55px;\r\n  left: -25px;\r\n  width: 700px;\r\n  border: 1px solid #ccc;\r\n  background-color: #fefefe;\r\n  box-shadow: 0 0 10px 2px #d3d3d3;\r\n  border-radius: 5px;\r\n  padding-top: 10px;\r\n  \r\n  .arrow {\r\n    position: absolute;\r\n    top: -11px;\r\n    left: 110px;\r\n    width: 24px;\r\n    height: 11px;\r\n    background-position: -48px 0;\r\n  }\r\n\r\n  .all {\r\n    padding: 10px 25px;\r\n    border-bottom: 1px solid #e2e2e2;\r\n    a {\r\n      display: inline-block;\r\n      text-align: center;\r\n      width: 75px;\r\n      height: 26px;\r\n      line-height: 26px;\r\n      border: 1px solid #d3d3d3;\r\n      border-radius: 3px;\r\n      background-color: #fafafa;\r\n    }\r\n  }\r\n\r\n  .category {\r\n    padding-left: 25px;\r\n    dl {\r\n      display: flex;\r\n      align-items: flex-start;\r\n    }\r\n\r\n    dt {\r\n      display: inline-flex;\r\n      align-items: center;\r\n      padding: 15px 0 10px;\r\n      width: 70px;\r\n      text-align: center;\r\n\r\n      i {\r\n        display: inline-block;\r\n        width: 24px;\r\n        height: 24px;\r\n        background-position: -20px -735px;\r\n        margin-right: 8px;\r\n      }\r\n    }\r\n\r\n    dl.item1 {\r\n      i {\r\n        background-position: 0 -60px;\r\n      }\r\n    }\r\n\r\n    dl.item2 {\r\n      i {\r\n        background-position: 0 -88px;\r\n      }\r\n    }\r\n\r\n    dl.item3 {\r\n      i {\r\n        background-position: 0 -117px;\r\n      }\r\n    }\r\n\r\n    dl.item4 {\r\n      i {\r\n        background-position: 0 -141px;\r\n      }\r\n\r\n      dd {\r\n        padding-bottom: 25px;\r\n      }\r\n    }\r\n\r\n    dd {\r\n      padding-top: 18px;\r\n      padding-left: 15px;\r\n      flex: 1;\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      border-left: 1px solid #e2e2e2;\r\n\r\n      .item {\r\n        margin-bottom: 8px;\r\n      }\r\n\r\n      a {\r\n        color: #333;\r\n      }\r\n\r\n      .divider {\r\n        margin: 0 12px;\r\n        color: #e2e2e2;\r\n      }\r\n    }\r\n  }\r\n`","import * as actionTypes from './constants'\r\n\r\nimport { PER_PAGE_NUMBER } from './constants'\r\n\r\nimport { getSongCategoryList, getSongCategory } from '@/services/songs'\r\n\r\nimport { \r\n  handleSongsCategory\r\n} from \"@/utils/handle-data\";\r\n\r\nexport const changeCurrentCategoryAction = currentCategory => ({\r\n  type: actionTypes.CHANGE_CURRENT_CATEGORY,\r\n  currentCategory\r\n})\r\n\r\n\r\nconst changeSongListAction = res => ({ type: actionTypes.CHANGE_SONG_LIST, categorySongs: res })\r\n\r\nconst changeCategoryAction = categoryData => ({ type: actionTypes.CHANGE_CATEGORY, category: categoryData })\r\n\r\nexport const getSongList = page => {\r\n  return (dispatch, getState) => {\r\n    const name = getState().getIn([\"songs\", \"currentCategory\"])\r\n    getSongCategoryList(name, page * PER_PAGE_NUMBER).then(res => {\r\n      dispatch(changeSongListAction(res))\r\n    })\r\n  }\r\n}\r\n\r\nexport const getCategory = () => {\r\n  return dispatch => {\r\n    getSongCategory().then(res => {\r\n      console.log(res)\r\n      const categoryData = handleSongsCategory(res)\r\n      console.log(categoryData)\r\n      dispatch(changeCategoryAction(categoryData))\r\n    })\r\n  }\r\n}","import request from './request'\r\n\r\nexport function getSongCategoryList(cat = \"全部\", offset = 0, limit = 35) {\r\n  return request({\r\n    url: \"/top/playlist\",\r\n    params: {\r\n      cat,\r\n      offset,\r\n      limit\r\n    }\r\n  })\r\n}\r\n\r\nexport function getSongCategory(){\r\n  return request({\r\n    url:\"/playlist/catlist\"\r\n  })\r\n}","import React, { memo } from 'react'\r\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux'\r\n\r\nimport {CategoryWrapper} from './style'\r\n\r\nimport {\r\n  getSongList,\r\n  changeCurrentCategoryAction\r\n} from '../../store/actionCreators'\r\n\r\nexport default memo(function ZYSongsCategory() {\r\n  const { category } = useSelector(state => ({\r\n    category: state.getIn([\"songs\", \"category\"])\r\n  }), shallowEqual)\r\n  const dispatch = useDispatch()\r\n  const selectCategory = (name)=>{\r\n    dispatch(changeCurrentCategoryAction(name))\r\n    dispatch(getSongList(0))\r\n  }\r\n  return (\r\n    <CategoryWrapper>\r\n       <div className=\"arrow sprite_icon\"></div>\r\n       <div className=\"all\">\r\n        <span className=\"link\" onClick={e => selectCategory(\"全部\")}>全部风格</span>\r\n      </div>\r\n      <div className=\"category\">\r\n        {\r\n          category.map((item,index)=>{\r\n            return (\r\n              <dl key={item.name} className={\"item\" + index}>\r\n                <dt>\r\n                  <i className=\"icon sprite_icon2\"></i>\r\n                  <span>{item.name}</span>\r\n                </dt>\r\n                <dd>\r\n                  {\r\n                    item.subs.map(sItem => {\r\n                      return (\r\n                        <div className=\"item\" key={sItem.name}>\r\n                          <span className=\"link\" onClick={e => selectCategory(sItem.name)}>{sItem.name}</span>\r\n                          <span className=\"divider\">|</span>\r\n                        </div>\r\n                      )\r\n                    })\r\n                  }\r\n                </dd>\r\n              </dl>\r\n            )\r\n          })\r\n        }\r\n      </div>\r\n    </CategoryWrapper>\r\n  )\r\n})\r\n","import styled from 'styled-components'\r\n\r\n\r\nexport const HeaderWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  border-bottom: 2px solid #c20c0c;\r\n  padding-bottom: 6px;\r\n`\r\n\r\n\r\nexport const HeaderLeft = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  position: relative;\r\n  .title{\r\n    font-size: 24px;\r\n    font-family: \"Microsoft Yahei\", Arial, Helvetica, sans-serif;\r\n  }\r\n  .select{\r\n    position: relative;\r\n    top: 2px;\r\n    width: 91px;\r\n    height: 31px;\r\n    line-height: 31px;\r\n    background-color: #fafafa;\r\n    border:1px solid #d3d3d3;\r\n    border-radius: 3px;\r\n    color: #0c73c2;\r\n    margin-left: 10px;\r\n    cursor: pointer;\r\n    &:hover{\r\n      background-color: #fff;\r\n    }\r\n    i{\r\n      position: relative;\r\n      left: 5px;\r\n      bottom: 2px;\r\n      display: inline-block;\r\n      width: 8px;\r\n      height: 5px;\r\n      background-position: -70px -543px;\r\n    }\r\n  }\r\n`\r\n\r\nexport const HeaderRight = styled.div`\r\n  .hot {\r\n    width: 46px;\r\n    height: 29px;\r\n    background-color: #c20c0c;\r\n    color: #fff;\r\n    border-radius: 3px;\r\n    border: 1px solid #aaa;\r\n  }\r\n`","import React, { memo } from 'react'\r\nimport { useState } from 'react'\r\nimport { shallowEqual, useSelector } from 'react-redux'\r\n\r\nimport ZYSongsCategory from '../songs-category'\r\n\r\nimport {\r\n  HeaderWrapper,\r\n  HeaderLeft,\r\n  HeaderRight\r\n} from './style'\r\n\r\n\r\nexport default memo(function ZYSongsHeader() {\r\n  const [showCategory, setShowCategory] = useState(false)\r\n  const { currentCategory } = useSelector(state => ({\r\n    currentCategory: state.getIn([\"songs\", \"currentCategory\"])\r\n  }), shallowEqual)\r\n  return (\r\n    <HeaderWrapper>\r\n      <HeaderLeft>\r\n        <span className=\"title\">{currentCategory}</span>\r\n        <button className=\"select\" onClick={_=>setShowCategory(!showCategory)}>\r\n          <span>选择分类</span>\r\n          <i className=\"sprite_icon2\"></i>\r\n        </button>\r\n        {\r\n          showCategory ? <ZYSongsCategory /> : null\r\n        }\r\n      </HeaderLeft>\r\n      <HeaderRight>\r\n        <button className=\"hot\">热门</button>\r\n      </HeaderRight>\r\n    </HeaderWrapper>\r\n  )\r\n})\r\n","import styled from 'styled-components'\r\n\r\n\r\nexport const SongsListWrapper = styled.div`\r\n  .songs-list{\r\n    display: flex;\r\n    justify-content: space-between;\r\n    flex-wrap: wrap;\r\n    margin-right: -30px;\r\n  }\r\n\r\n\r\n`","import React, { memo, useState } from 'react'\r\n\r\nimport SongsCover from '@/components/songs-cover'\r\nimport ZYPagination from '@/components/pagination'\r\nimport { SongsListWrapper } from './style'\r\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux'\r\nimport { PER_PAGE_NUMBER } from '../../store/constants'\r\nimport { getSongList } from '../../store/actionCreators'\r\n\r\nexport default memo(function ZYSongsList() {\r\n  const [currentPage, setCurrentPage] = useState(1)\r\n  const { categorySongs } = useSelector(state => ({\r\n    categorySongs: state.getIn([\"songs\", \"categorySongs\"])\r\n  }),shallowEqual)\r\n  const dispatch = useDispatch()\r\n  const songList = categorySongs.playlists || []\r\n  const total = categorySongs.total || 0\r\n  const onPageChange = page => {\r\n    setCurrentPage(page)\r\n    dispatch(getSongList(page))\r\n    window.scrollTo(0,0)\r\n  }\r\n  return (\r\n    <SongsListWrapper>\r\n      <div className=\"songs-list\">\r\n        {\r\n          songList.map(item => {\r\n            return (\r\n              <SongsCover key={item.id} info={item} right=\"30px\" />\r\n            )\r\n          })\r\n        }\r\n      </div>\r\n      <ZYPagination total={total}\r\n        currentPage={currentPage}\r\n        pageSize={PER_PAGE_NUMBER}\r\n        onPageChange={onPageChange} />\r\n    </SongsListWrapper>\r\n  )\r\n})\r\n","import React, { memo, useEffect } from 'react'\r\n\r\nimport { SongsWrapper } from './style'\r\n\r\nimport ZYSongsHeader from './c-cpns/songs-header'\r\nimport ZYSongsList from './c-cpns/songs-list'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nimport { getSongList, getCategory } from './store/actionCreators'\r\n\r\nexport default memo(function ZYSongs() {\r\n  const dispatch = useDispatch()\r\n  useEffect(() => {\r\n    dispatch(getCategory())\r\n    dispatch(getSongList(0))\r\n  }, [dispatch])\r\n  return (\r\n    <SongsWrapper className=\"wrap-v2\">\r\n      <ZYSongsHeader />\r\n      <ZYSongsList />\r\n    </SongsWrapper>\r\n  )\r\n})\r\n"],"sourceRoot":""}